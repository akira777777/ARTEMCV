AI Coding Guide — ARTEMCV

- **Stack & Commands**: React 19 + TypeScript on Vite with Tailwind-style utility classes. Scripts: `npm run dev` (force restart), `npm run dev:clean` (dev-server.js), `npm run dev:prod` (build+preview), `npm run build`, `npm run preview`. No tests configured.
- **Entry & Layout**: [index.tsx](index.tsx) mounts `<App />` into `#root` from [index.html](index.html). [App.tsx](App.tsx) now ships all sections by default: `Header` (anchored nav), `Hero`, `About`, `Projects`, `BrandGenerator`, floating `ChatBot`, and `Footer`, wrapped in global glow/grid/noise overlays.
- **Content sources**: Portfolio data lives in [constants.tsx](constants.tsx) (`PROJECTS`, `SKILLS`, RU descriptions). Extend these arrays rather than inlining copy in components. Shared shapes in [types.ts](types.ts); add new payloads here to keep services/components in sync.
- **Styling conventions**: High-contrast dark theme, capsule buttons, radial/gradient backdrops, and inline keyframes (Hero marquee, BrandGenerator skeletons). Preserve utility-first classnames; avoid global CSS unless necessary. Background overlays (`glow-ring`, `grid-overlay`, `noise-overlay`) are expected to stay in the root wrapper.
- **Gemini key handling**: [services/geminiService.ts](services/geminiService.ts) pulls `(import.meta as any).env.VITE_API_KEY || process.env.API_KEY || process.env.GEMINI_API_KEY`; throws if missing. Vite only inlines `import.meta.env.VITE_*` at build time—set `VITE_API_KEY` in `.env` locally or project envs (Vercel/Netlify). `vite.config.ts` maps `VITE_API_KEY`/`GEMINI_API_KEY`/`API_KEY` into both `process.env.*` and `import.meta.env.VITE_API_KEY` via `define`.
- **Gemini service patterns**: Central wrapper functions—`generateBrandBible` (gemini-3-pro-preview with JSON schema & thinking budget), `analyzeVision` (image → mission/keywords JSON), `generateBrandImage` (gemini-3-pro-image-preview, white background, aspect ratio and `ImageSize`), `editImage` (gemini-2.5-flash-image uses PNG data stripped of prefix), `chat` (gemini-3-flash-preview with googleSearch tool). Image responses are pulled from `response.candidates[0].content.parts[].inlineData` → `data:image/png;base64,...`.
- **Brand Generator flow** ([components/BrandGenerator.tsx](components/BrandGenerator.tsx)): Submit clears prior state, requests brand bible + abstract placeholder in parallel, then fires six logo jobs keyed `primary`, `mono`, `simplified`, `grayscale`, `sec1`, `sec2` using the selected aspect ratio and `ImageSize`. Vision Sync accepts uploads, base64-encodes, then calls `analyzeVision` to prefill mission. `editImage` mutates the latest saved base64 per key; loading flags are per-variant.
- **ChatBot behavior** ([components/ChatBot.tsx](components/ChatBot.tsx)): Maintains local message history and sends it as `parts` to `GeminiService.chat`. Renders grounding sources as external links. UI is a floating panel toggled by `isOpen`; scroll anchoring uses `chatRef`—adjust together if DOM changes.
- **Deployment**: Static build (`dist`) ready for Vercel/Netlify. Ensure `VITE_API_KEY` is available at build time; `API_KEY`/`GEMINI_API_KEY` work only if mapped via `define` or provider env rewrites. Use `npm run dev:prod` locally to mirror production build+preview.
- **Data-localization note**: Project descriptions in [constants.tsx](constants.tsx) are in Russian; keep language consistent unless intentionally localizing.

If any area is unclear (e.g., adding new AI calls or adjusting image pipelines), ask and I’ll extend the guide.